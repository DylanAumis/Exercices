<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
        <link rel="stylesheet" href="">
        <script src="utility.js"></script>
        <script>

            log("this global")
            log(this); // valeur = window (objet global);

            // CSSEtJ1 est un event handler ou gestionnaire d'évenement
            var CSSEtJS1 = function CSSEtJS1(){

                this.classList.toggle("is-active");
                if (this.classList.contains("is-active")){
                    log("l'élément clické contient la classe active !")
                }
                log ("this dans event handler");
                log(this);

                // notez bien ici la valeur de this !!! THIS est la source de l'évenement (event handler) (block)

            }

            window.onload = function start(){
                "use strict";
                log("loaded => we are ready to rock!!");
                log("window.onload : this en mode strict")
                log(this)
                // Valeur = window ici this dans ce contexte (event handler) => représente la source de l'évent
                action2();

            };

             var action2 = function action2(){
                    "use strict";

                    var i, blocks = document.querySelector(".block");
                    ;
                    
                    //for (i = 0; i < blocks.length; i += 1){
                        //blocks[i].onclick = CSSEtJS1
        parseObserveHandle(blocks, "click", CSSEtJS1);

                };
            
        </script>
        <style>
            .block { cursor:  pointer;
                background: cadetblue;
                border: 4px solid black;
                box-sizing: border-box;
                height: 64px;
                width: 64px;
            }

            .block .is-active{
                background: orange;
            }
        </style>
    </head>

    <body>

        <div class="block"></div>
        <div class="block"></div>
        <div class="block"></div>
        <div class="block"></div>
        <div class="block"></div>
        <div class="block"></div>
        <div class="block"></div>
        


    </body>
</html>
